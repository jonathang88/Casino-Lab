#!/usr/bin/env python3
# Simple port fuzzer example (educational)
import socket, sys
def check(host,port,timeout=1):
    s=socket.socket()
    s.settimeout(timeout)
    try:
        s.connect((host,port))
        s.close()
        return True
    except:
        return False

if __name__=='__main__':
    if len(sys.argv)!=3:
        print("Usage: port_fuzzer.py <host> <start-end>")
        sys.exit(1)
    host = sys.argv[1]; r = list(map(int, sys.argv[2].split('-')))
    for p in range(r[0], r[1]+1):
        if check(host,p):
            print(f"Open: {p}")
